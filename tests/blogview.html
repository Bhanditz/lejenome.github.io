<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<title>test</title>
</head>
<body>
<script>
	function update(e) {
		var s = "<!DOCTYPE html><html><head><meta charset='UTF-8' /><link rel='stylesheet' "+
			"href='data:text/css;base64," + btoa(document.getElementById("css").value) +
			"' /></head><body>"+ document.getElementById("editor").value + "</body></html>";
		document.getElementById("viewer").src="data:text/html;base64," + btoa(s);
	}
document.addEventListener("DOMContentLoaded", function() {
	document.getElementById("editor").addEventListener("keyup", update);
	document.getElementById("css").addEventListener("keyup", update);
});
	</script>
	<textarea id="editor"></textarea>
	<textarea id="css"></textarea>
	<iframe id="viewer"></iframe>
</body>
</html>
