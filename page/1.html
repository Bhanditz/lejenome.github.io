<!DOCTYPE html>
<html lang="en" itemscope itemType="http://schema.org/Blog">

<head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# website: http://ogp.me/ns/website# type: http://ogp.me/ns/profile#">
    <meta charset="utf-8" />
    <title itemprop="name">Moez Bouhlel [lejenome] Website</title>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <!-- metadata -->
    <meta name="description" content="Moez Bouhlel (lejenome) website for latest updates. Hire me for a part-time job or for an internship at https://lejenome.github.io/resume" />
    <meta name="keywords" content="javascript,slack,mtcfss,note,linux,qemu,kvm,windows,mtcfss,python,django,syteup,moez,bouhlel,lejenome,bmoez,bmoezj,bmoez.j" itemprop="keywords" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width, minimum-scale=1" />
    <meta name="author" content="Moez Bouhlel" itemprop="creator" />
    <meta name="copyright" content="Moez Bouhlel 2016, All Rights Reserved." />
    <link rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" />
    <!--<link rel="canonical" href="https://lejenome.github.io" />-->
    <base href="/" />
    <link rel="alternate" type="application/rss+xml" href="rss.xml" />
    <!-- google verification, should kept -->
    <meta name="google-site-verification" content="S6sLGAfoubJHu5uLGJMU9sOD82LL7APn_EYSZQPOXsE" />
    <!-- openid -->
    <link rel="openid.server" href="https://login.launchpad.net/+openid" />
    <link rel="openid.delegate" href="https://login.launchpad.net/+id/mBmWsYt" />
    <link rel="openid2.provider" href="https://login.launchpad.net/+openid" />
    <link rel="openid2.local_id" href="https://login.launchpad.net/+id/mBmWsYt" />
    <meta http-equiv="X-XRDS-Location" content="https://login.launchpad.net/+id/mBmWsYt/+xrds" />
    <!-- Twitter -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@lejenome" />
    <meta name="twitter:creator" content="@lejenome" />
    <meta name="twitter:domain" content="lejenome.github.io" />
    <!-- og -->
    <meta property="og:site_name" content="Moez Bouhlel" />
    <meta property="og:type" content="article" />
    <!-- itemprop -->
    <meta itemprop="inLanguage" content="en" />
    
    <meta name="twitter:description" property="og:description" itemprop="description" content="Moez Bouhlel (lejenome) Website for latest updates." />
    <meta name="twitter:title" property="og:title" content="Moez Bouhlel [lejenome] Website" />
    <meta name="twitter:image" property="og:image" itemprop="image" content="https://lejenome.github.io/logo.png" />
    <!-- favicons -->
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="imgs/favicon/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="imgs/favicon/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="imgs/favicon/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="imgs/favicon/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="imgs/favicon/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="imgs/favicon/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="imgs/favicon/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="imgs/favicon/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="imgs/favicon/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="imgs/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="imgs/favicon/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="imgs/favicon/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="imgs/favicon/favicon-128.png" sizes="128x128" />
    <meta name="msapplication-TileImage" content="imgs/favicon/mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="imgs/favicon/mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="imgs/favicon/mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="imgs/favicon/mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="imgs/favicon/mstile-310x310.png" />
    <!-- import css -->
    <link href="css/normalize.css" type="text/css" rel="stylesheet" />
    <link href="css/font-awesome.css" type="text/css" rel="stylesheet" />
    <link href="fonts/source-code-pro/source-code-pro.css" type="text/css" rel="stylesheet" />
    <link href="css/common.css" type="text/css" rel="stylesheet" />
    <link href="css/articales.css" type="text/css" rel="stylesheet" />
    <link href="css/pygmentize.default.css" type="text/css" rel="stylesheet" />
    <link href="css/blog.css" type="text/css" rel="stylesheet" />
</head>

<body class="container">
    <header>
        <h1><a href="">Moez Bouhlel <small>@lejenome</small></a></h1>
        <nav>
            <ul class="menu">
                <li><a href="">Home</a></li>
                <li><a href="https://twitter.com/lejenome">Twitter</a></li>
                <li><a href="https://github.com/lejenome">GitHub</a></li>
                <li><a href="https://www.linkedin.com/in/lejenome">LinkedIn</a></li>
                <li><a href="resume.html">Resume</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
            <ul class="icons">
                <li><a title="Archive" href="archive.html"><i class="fa fa-folder-open"></i></a></li>
                <li><a title="RSS" rel="alternate" type="application/rss+xml" href="rss.xml"><i class="fa fa-rss"></i></a></li>
            </ul>
        </nav>
    </header>
    <div>
        <section id="articales" class="type-page">
            <article class="post" id="6" itemscope itemType="http://schema.org/TechArticle" itemid="https://lejenome.github.io/post/6" >
                <meta itemprop="proficiencyLevel" content="Beginner" />
                <link itemprop="publisher" href="https://lejenome.github.io/resume" />
                <hgroup>
                    <h2 class="post-title" itemprop="name" itemprop="headline"><a href="post/6.html" class="post-link" itemprop="url">Simple feedback form implementation for static websites</a></h2>
                    <h3 class="post-date"><time datetime="2016/10/05" itemprop="datePublished">Wed Oct 05 2016</time></h3>
                </hgroup>
                <div class="post-body" itemprop="articleBody">
                    <p>Recently, I wanted to add a feedback form to my resume page to help my friends
review it. I was using GitHub pages to host my static web site and I didn't
want to host the server side of the feedback on a different server. So I was
looking for a simple solution that works well with my static website. Most of
the available ones were either paid or have too many unneeded features.</p>
<p>At the end, I decided to use my <a href="https://slack.com/">Slack</a> team to receive
feedbacks. It does not require any third-party library or any server side code.
And it's very simple to implement:</p>
<ol>
<li>Create a Slack team if you don't have one.</li>
<li>Add an <a href="https://api.slack.com/incoming-webhooks">Incoming Webhook</a> URL to a
   channel on your team. It's a simple URL that you can send feedbacks to.</li>
<li>Finally, add your client side implementation. This is a simple one:</li>
</ol>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;feedback&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">textarea</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">required</span><span class="p">&gt;&lt;/</span><span class="nt">textarea</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;send feedback&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">input</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="kd">let</span> <span class="nx">form</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;feedback&quot;</span><span class="p">);</span>
<span class="nx">form</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;submit&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
    <span class="nx">fetch</span><span class="p">(</span><span class="nx">YOUR_WEBHOOK_URL</span><span class="p">,</span> <span class="p">{</span>
        <span class="nx">method</span><span class="o">:</span> <span class="s2">&quot;POST&quot;</span><span class="p">,</span> <span class="c1">// You should use POST method</span>
        <span class="nx">body</span><span class="o">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
            <span class="nx">text</span><span class="o">:</span> <span class="nx">form</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span> <span class="c1">// the feedback message</span>
            <span class="nx">parse</span><span class="o">:</span> <span class="s2">&quot;none&quot;</span><span class="p">,</span> <span class="c1">// tell Slack it&#39;s not a formated text</span>
        <span class="p">});</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>


<h4>Improvements:</h4>
<p>You can add more entries to the send JSON. Check Slack
<a href="https://api.slack.com/methods/chat.postMessage">documentation</a> for more
details. The most useful ones are <code>username</code> and <code>icon_emoji</code>.</p>
<p>You can set different a <code>username</code> and different a <code>icon_emoji</code> entry for every
page. For example, you send this JSON from your resume page:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;text&quot;</span>       <span class="p">:</span> <span class="s2">&quot;THE FEEDBACK MESSAGE&quot;</span><span class="p">,</span>
    <span class="nt">&quot;parse&quot;</span>      <span class="p">:</span> <span class="s2">&quot;none&quot;</span><span class="p">,</span>
    <span class="nt">&quot;username&quot;</span>   <span class="p">:</span> <span class="s2">&quot;resume&quot;</span><span class="p">,</span>
    <span class="nt">&quot;icon_emoji&quot;</span> <span class="p">:</span> <span class="s2">&quot;:briefcase:&quot;</span>
<span class="p">}</span>
</pre></div>
                </div>
            </article><article class="post" id="4" itemscope itemType="http://schema.org/TechArticle" itemid="https://lejenome.github.io/post/4" >
                <meta itemprop="proficiencyLevel" content="Beginner" />
                <link itemprop="publisher" href="https://lejenome.github.io/resume" />
                <hgroup>
                    <h2 class="post-title" itemprop="name" itemprop="headline"><a href="post/4.html" class="post-link" itemprop="url">[MTCFSS] Recommendations For IT Students</a></h2>
                    <h3 class="post-date"><time datetime="2016/10/04" itemprop="datePublished">Tue Oct 04 2016</time></h3>
                </hgroup>
                <div class="post-body" itemprop="articleBody">
                    <p>This is a list of useful websites and tools to check for Computer Science
students.</p>
<h2>Challenges:</h2>
<h3>Algorithms and Programming</h3>
<ul>
<li><a href="https://www.hackerrank.com/">HackerRank</a>: Different-level exercises for many
domains and challenges.</li>
<li><a href="https://projecteuler.net/">Project Euler</a>: Algorithms challenges, you can find
them on <a href="https://www.hackerrank.com/projecteuler">ProjectEuler+</a> challenge on
HackerRank too.</li>
</ul>
<h3>System development and administration</h3>
<ul>
<li><a href="http://eudyptula-challenge.org/">The Eudyptula Challenge</a>: Series of
programming exercises for Linux kernel development.</li>
</ul>
<h3>Other</h3>
<ul>
<li><a href="http://devpost.com/hackathons">DevPost</a>: Online and in-person challenges with
prizes to win.</li>
</ul>
<h2>Tutorials:</h2>
<ul>
<li><a href="http://www.developpez.com">Developpez.com</a>: Club des développeurs et IT pro.</li>
</ul>
<h2>E-learning:</h2>
<ul>
<li><a href="https://www.coursera.org/">Coursera</a></li>
<li><a href="https://www.edx.org">Edx</a></li>
<li><a href="https://www.codecademy.com/">Codecademy</a></li>
<li><a href="https://www.udacity.com/">Udacity</a></li>
<li><a href="https://lagunita.stanford.edu/">Stanford Online Lagunita</a></li>
<li><a href="http://ocw.mit.edu/">MIT OpenCourseWare</a></li>
</ul>
<h2>Usefull tools:</h2>
<ul>
<li><a href="https://github.com">GitHub</a>: #1 Online project hosting service.</li>
<li><a href="https://c9.io/">Could9</a>: Full-featured development environment, in the cloud.</li>
<li><a href="https://zealdocs.org/">Zeal</a>: offline documentation for 195+ programming
  languages and APIs.</li>
<li><a href="http://devdocs.io/">DevDocs</a>: Online APIs documentation.</li>
</ul>
<h2>Freelancer &amp; Money:</h2>
<ul>
<li><a href="https://www.topcoder.com">TopCoder</a></li>
<li><a href="https://www.upwork.com/">UpWork</a></li>
<li><a href="https://www.freelancer.com/">Freelancer</a></li>
</ul>
<h2>CV:</h2>
<ul>
<li><a href="https://www.linkedin.com/">LinkedIn</a></li>
<li><a href="https://stackoverflow.com/jobs/cv">StackOverFlow CV</a></li>
</ul>
                </div>
            </article><article class="post" id="5" itemscope itemType="http://schema.org/TechArticle" itemid="https://lejenome.github.io/post/5" >
                <meta itemprop="proficiencyLevel" content="Beginner" />
                <link itemprop="publisher" href="https://lejenome.github.io/resume" />
                <hgroup>
                    <h2 class="post-title" itemprop="name" itemprop="headline"><a href="post/5.html" class="post-link" itemprop="url">Physical boot to virtual EFI Windows machine</a></h2>
                    <h3 class="post-date"><time datetime="2016/09/15" itemprop="datePublished">Thu Sep 15 2016</time></h3>
                </hgroup>
                <div class="post-body" itemprop="articleBody">
                    <p>Even Linux is my main system, I frequently need to use Windows for school
homework when Mono does not support desired features. Running Windows inside a
virtual machine is always enough expect few cases. The best solution was to
setup a single windows system accessible from booth the virtual machine and
from the physical dual boot.</p>
<p>For the virtual machine, we will use <em>Qemu/KVM</em> with <em>Virtio</em> devices and a disk
partition for Windows.</p>
<p>First, you need to install Windows on your PC to get the boot entry with right
configurations (I couldn't find a work around BCD boot entry issue other than
this one). Then reboot to your Linux system to reinstall Windows on the same
partition but using the virtual machine this time.</p>
<p>Before we start, check that <code>loop</code> and <code>linear</code> modules are loaded:</p>
<div class="codehilite"><pre><span></span>sudo modprobe loop
sudo modprobe linear
</pre></div>


<p>Because the virtual machine need whole disk with booth the Windows partition
and the EFI partition, We need to create a virtual RAID. Let's create a small
file to hold the EFI partition:</p>
<div class="codehilite"><pre><span></span>dd <span class="k">if</span><span class="o">=</span>/dev/zero <span class="nv">of</span><span class="o">=</span>efi <span class="nv">count</span><span class="o">=</span>200000
</pre></div>


<p>Now you have <code>efi</code> file of 100 MB (200000 * 512 Bytes). Next, we create a
loopback device from the file:</p>
<div class="codehilite"><pre><span></span>sudo losetup -f efi
</pre></div>


<p>It will assign the first available loopback device to the file. We will assume
that the assigned device is <code>/dev/loop0</code>. To check the assigned device:</p>
<div class="codehilite"><pre><span></span>losetup -a
</pre></div>


<p>Next, we will merge the loopback device and the real Windows partition into a
single linear RAID disk image (We will assume that the windows partition is
<code>/dev/sda2</code>):</p>
<div class="codehilite"><pre><span></span>sudo mdadm --build --verbose /dev/md0 --chunk<span class="o">=</span><span class="m">16</span> --level<span class="o">=</span>linear --raid-devices<span class="o">=</span><span class="m">2</span> /dev/loop0 /dev/sda2
</pre></div>


<p>Time to create the partitions table of the new RAID disk with reusing the same
physical Windows partition. For this step, we will use <em>parted</em> utility. You
can use other tools on your own. We need to get the size of real Windows
partition on sectors.</p>
<div class="codehilite"><pre><span></span>sudo parted /dev/sda unit s print
</pre></div>


<p>Partition your virtual RAID disk:</p>
<div class="codehilite"><pre><span></span>sudo parted /dev/md0
<span class="o">(</span>parted<span class="o">)</span> mktable gpt
<span class="o">(</span>parted<span class="o">)</span> mkpart primary ntfs -WINDOW_PARITION_SIZE -1
<span class="o">(</span>parted<span class="o">)</span> mkpart primary fat32 <span class="m">0</span> -WINDOW_PARITION_SIZE
<span class="o">(</span>parted<span class="o">)</span> quit
</pre></div>


<p>Your final layout will have 2 partitions; Windows partition <code>/dev/md0p1</code> and
EFI partition <code>/dev/md0p2</code>. You may get few warning messages when
creating partitions, ignore them. The new partitions need to be formatted.</p>
<div class="codehilite"><pre><span></span>sudo mkfs.ntfs -f -L Windows -C /dev/md0p1
sudo mkfs.msdos -F <span class="m">32</span> -n EFI /dev/md0p2
</pre></div>


<p>Now, you are ready to launch the virtual machine and reinstall Windows. Change
<code>/dev/md0</code> owner to the same user <em>Qemu</em> is running as and install <em>ovmf</em> EFI
bios for <em>Qemu</em>, in my case, it will be available at
<code>/usr/share/ovmf/ovmf_x64.bin</code>.</p>
<div class="codehilite"><pre><span></span>qemu-system-x86_64 <span class="se">\</span>
    -enable-kvm <span class="se">\</span>
    -bios /usr/share/ovmf/ovmf_x64.bin <span class="se">\</span>
    -drive <span class="nv">file</span><span class="o">=</span>/dev/md0,media<span class="o">=</span>disk,format<span class="o">=</span>raw <span class="se">\</span>
    -netdev user,id<span class="o">=</span>windowsnic,hostname<span class="o">=</span>windowshost <span class="se">\</span>
    -device virtio-net,netdev<span class="o">=</span>windowsnic <span class="se">\</span>
    -cpu host <span class="se">\</span>
    -m 2G <span class="se">\</span>
    -vga qxl <span class="se">\</span>
    -usbdevice tablet
</pre></div>


<p>Adapt <em>Qemu</em> script to your use case. You may need to download and install
<a href="https://fedoraproject.org/wiki/Windows_Virtio_Drivers"><em>Virtio</em> drivers</a> on
your guest machine. After each reboot, you need to create the loopback device,
merge the two partitions into the RAID disk and change the owner of the device.</p>
<p>Credit to <a href="file:///usr/share/doc/arch-wiki/html/en/QEMU.html#Simulate_virtual_disk_with_MBR_using_linear_RAID">Arch Linux Wiki</a>.
Enjoy!</p>
                </div>
            </article><article class="post" id="3" itemscope itemType="http://schema.org/TechArticle" itemid="https://lejenome.github.io/post/3" >
                <meta itemprop="proficiencyLevel" content="Beginner" />
                <link itemprop="publisher" href="https://lejenome.github.io/resume" />
                <hgroup>
                    <h2 class="post-title" itemprop="name" itemprop="headline"><a href="post/3.html" class="post-link" itemprop="url">[MTCFSS] Python Training – Get Ready</a></h2>
                    <h3 class="post-date"><time datetime="2016/02/09" itemprop="datePublished">Tue Feb 09 2016</time></h3>
                </hgroup>
                <div class="post-body" itemprop="articleBody">
                    <p>This is our check list for any member interested to join the training:</p>
<h2>Tools:</h2>
<p><strong>For Windows Users:</strong></p>
<ul>
<li>Python 3.5 (<a href="https://www.python.org/ftp/python/3.5.1/python-3.5.1-amd64.exe">64bit</a>)
  (<a href="https://www.python.org/ftp/python/3.5.1/python-3.5.1.exe">32bit</a>)</li>
<li><a href="https://desktop.github.com/">GitHub Desktop</a></li>
<li><a href="https://git-for-windows.github.io/">Git For Windows</a> (optional but recommended)</li>
</ul>
<p>You can choose your preferred Text Editor or IDE to write python code, or you
can pick one of our recommendation list:</p>
<ul>
<li><a href="https://www.jetbrains.com/pycharm-edu/">PyCharm</a></li>
<li>IDLE3 (already integrated with Python installer)</li>
<li>Visual Studio + Python Tools extension</li>
<li><a href="http://ninja-ide.org/home/">Ninja-IDE</a></li>
<li><a href="http://www.pydev.org/">PyDev</a></li>
<li><a href="https://netbeans.org/">Netbeans</a> &gt;= 8.1 + Python plugin</li>
</ul>
<p><strong>For Linux (Ubuntu) Users:</strong></p>
<ul>
<li>Python 3 (should be already installed, use python3 command instead of python)</li>
<li>Git</li>
</ul>
<p>You can choose your preferred Text Editor or IDE or one of our suggestion list:</p>
<ul>
<li>PyCharm</li>
<li>Vim / emacs / nano / ed (or cat command if you want)</li>
<li>IDLE3</li>
<li>Ninga-IDE</li>
<li>Netbeans &gt;= 8.1 + Python plugin</li>
<li>IPython3 (Jupyter console)</li>
</ul>
<h2>Other: (We will keep it for Saturday)</h2>
<p>We will use the Django Framework on the training. To install Django, you need to
use the pip command (already integrated on Python Windows installer, or install
python3-pip for Ubuntu users). Launch your console (cmd on Windows), and run:</p>
<div class="codehilite"><pre><span></span>pip install Django
</pre></div>


<h2>Requirements:</h2>
<p>We will use GitHub ( http://github.com/ ) to host our projects code. To be able
to join the development, every member is required to create a GitHub account and
send us his profile link on email (<a href="mailto:mtcfss@outlook.com">mtcfss@outlook.com</a>).</p>
<p>Keep in mind that GitHub is #1 code hosting service and you will mostly keep
using it outside our training on future.</p>
<h2>Learning Sources:</h2>
<p><strong>Python 3:</strong></p>
<ul>
<li><a href="https://openclassrooms.com/courses/apprenez-a-programmer-en-python">Open Class Room Tutorial</a>
  (French)</li>
<li><a href="https://docs.python.org/3/">Python Official Documentation</a>:</li>
<li><a href="https://docs.python.org/3/tutorial/index.html">Official Tutorial</a></li>
<li><a href="https://docs.python.org/3/library/index.html">Official Library Reference</a></li>
</ul>
<p><strong>Django:</strong></p>
<ul>
<li><a href="https://openclassrooms.com/courses/developpez-votre-site-web-avec-le-framework-django">Open Class Room Tutorial</a>
  (French)</li>
<li><a href="https://docs.djangoproject.com/en/1.9/">Django Official Documentation</a>:</li>
<li><a href="https://docs.djangoproject.com/en/1.9/intro/overview/">Official Tutorial</a></li>
</ul>
<p><strong>Git:</strong></p>
<ul>
<li><a href="https://try.github.io/">GitHub Tutorial</a></li>
<li><a href="https://openclassrooms.com/courses/manage-your-code-with-git-and-github">Open Class Room Tutorial</a></li>
<li><a href="https://git-scm.com/doc">Git Official Documentation</a></li>
</ul>
<p><strong>HTML5 &amp; CSS3:</strong></p>
<ul>
<li><a href="https://openclassrooms.com/courses/apprenez-a-creer-votre-site-web-avec-html5-et-css3">Open Class Room Tutorial</a>
  (French)</li>
<li><a href="https://developer.mozilla.org/en-US/">Mozilla Developer Network</a>:</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web">Web Docs</a></li>
<li><a href="http://v4-alpha.getbootstrap.com/getting-started/introduction/">Bootstrap 4 Doc</a></li>
</ul>
<p><strong>JavaScript:</strong></p>
<ul>
<li><a href="https://openclassrooms.com/courses/dynamisez-vos-sites-web-avec-javascript">Open Class Room Tutorial</a>
  (French)</li>
<li><a href="https://developer.mozilla.org/en-US/">Mozilla Developer Network</a>:</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">JavaScript Guide</a></li>
<li><a href="https://angular.io/docs/ts/latest/">Angular 2 Doc</a>:</li>
<li><a href="https://angular.io/docs/ts/latest/quickstart.html">Quick Start</a></li>
<li><a href="https://angular.io/docs/ts/latest/quickstart.html">Guide</a></li>
</ul>
                </div>
            </article><article class="post" id="2" itemscope itemType="http://schema.org/TechArticle" itemid="https://lejenome.github.io/post/2" >
                <meta itemprop="proficiencyLevel" content="Beginner" />
                <link itemprop="publisher" href="https://lejenome.github.io/resume" />
                <hgroup>
                    <h2 class="post-title" itemprop="name" itemprop="headline"><a href="post/2.html" class="post-link" itemprop="url">[Syteup] creating a basic plugin, segment as an example</a></h2>
                    <h3 class="post-date"><time datetime="2014/11/04" itemprop="datePublished">Tue Nov 04 2014</time></h3>
                </hgroup>
                <div class="post-body" itemprop="articleBody">
                    <p>Here, we will add Segment support to Syteup.</p>
<p>Segment is "a customer data hub". It makes it easy to integrate third-party
tools (analytics, advertising,...) to your application throw a all-in-one single
library.</p>
<p>To add Segment plugin support to Syteup, we needs just 3 simple steps:</p>
<p>1- create <code>plugins/segment.js</code> plugin code file that will export the plugin
module to the window object:</p>
<div class="codehilite"><pre><span></span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nb">window</span><span class="p">)</span> <span class="p">{</span>
    <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
    <span class="kd">function</span> <span class="nx">setupSegment</span><span class="p">(</span><span class="nx">settings</span><span class="p">)</span> <span class="p">{</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">analytics</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">analytics</span> <span class="o">||</span> <span class="p">[];</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">analytics</span><span class="p">.</span><span class="nx">methods</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;identify&quot;</span><span class="p">,</span>
            <span class="s2">&quot;group&quot;</span><span class="p">,</span>
            <span class="s2">&quot;track&quot;</span><span class="p">,</span>
            <span class="s2">&quot;page&quot;</span><span class="p">,</span>
            <span class="s2">&quot;pageview&quot;</span><span class="p">,</span>
            <span class="s2">&quot;alias&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ready&quot;</span><span class="p">,</span>
            <span class="s2">&quot;on&quot;</span><span class="p">,</span>
            <span class="s2">&quot;once&quot;</span><span class="p">,</span>
            <span class="s2">&quot;off&quot;</span><span class="p">,</span>
            <span class="s2">&quot;trackLink&quot;</span><span class="p">,</span>
            <span class="s2">&quot;trackForm&quot;</span><span class="p">,</span>
            <span class="s2">&quot;trackClick&quot;</span><span class="p">,</span>
            <span class="s2">&quot;trackSubmit&quot;</span>
        <span class="p">];</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">analytics</span><span class="p">.</span><span class="nx">factory</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">method</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
                <span class="nx">args</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">method</span><span class="p">);</span>
                <span class="nb">window</span><span class="p">.</span><span class="nx">analytics</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">args</span><span class="p">);</span>
                <span class="k">return</span> <span class="nb">window</span><span class="p">.</span><span class="nx">analytics</span><span class="p">;</span>
            <span class="p">};</span>
        <span class="p">};</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nb">window</span><span class="p">.</span><span class="nx">analytics</span><span class="p">.</span><span class="nx">methods</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">analytics</span><span class="p">.</span><span class="nx">methods</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">analytics</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">analytics</span><span class="p">.</span><span class="nx">factory</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">analytics</span><span class="p">.</span><span class="nx">load</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;analytics-js&quot;</span><span class="p">))</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="kd">var</span> <span class="nx">script</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">);</span>
            <span class="nx">script</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s2">&quot;text/javascript&quot;</span><span class="p">;</span>
            <span class="nx">script</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="s2">&quot;analytics-js&quot;</span><span class="p">;</span>
            <span class="nx">script</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="nx">script</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;https:&quot;</span> <span class="o">===</span> <span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">protocol</span> <span class="o">?</span> <span class="s2">&quot;https://&quot;</span> <span class="o">:</span> <span class="s2">&quot;http://&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;cdn.segment.com/analytics.js/v1/&quot;</span> <span class="o">+</span> <span class="nx">key</span> <span class="o">+</span> <span class="s2">&quot;/analytics.min.js&quot;</span><span class="p">;</span>
            <span class="kd">var</span> <span class="nx">first</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
            <span class="nx">first</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">script</span><span class="p">,</span> <span class="nx">first</span><span class="p">);</span>
        <span class="p">};</span>
        <span class="c1">// Add a version to keep track of what&#39;s in the wild.</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">analytics</span><span class="p">.</span><span class="nx">SNIPPET_VERSION</span> <span class="o">=</span> <span class="s2">&quot;2.0.9&quot;</span><span class="p">;</span>
        <span class="c1">// Load Analytics.js with your key, which will automatically</span>
        <span class="c1">// load the tools you&#39;ve enabled for your account. Boosh!</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">analytics</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="nx">settings</span><span class="p">[</span><span class="s2">&quot;write_key&quot;</span><span class="p">]);</span>
        <span class="c1">// Make the first page call to load the integrations. If</span>
        <span class="c1">// you&#39;d like to manually name or tag the page, edit or</span>
        <span class="c1">// move this call however you&#39;d like.</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">analytics</span><span class="p">.</span><span class="nx">page</span><span class="p">({</span> <span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;Syteup&quot;</span> <span class="p">});</span>
    <span class="p">}</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">segmentPlugin</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">setup</span><span class="o">:</span> <span class="nx">setupSegment</span> <span class="p">};</span>
<span class="p">}(</span><span class="nb">window</span><span class="p">));</span>
</pre></div>


<p>what we did is to add segment code (copied from segment tutorial) into the
<code>setupSegment</code> function, then we export it as <code>setup</code> item on the plugin module
which should be named <code>segmentPlugin</code>. As you note, the user depending write_key
is readed from the <code>settings</code> object of the plugin which will be added on the
third step.</p>
<p>2- we add a script tag to the <code>index.html</code> file that will load the plugin code.</p>
<p>the script tag should be included on the plugins section just before
<code>js/plugins.js</code> tag and it should be loaded on defer mode</p>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">defer</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;plugins/segment.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>


<p>3- Finally, we add the plugin settings to the configuration file <code>config.json</code></p>
<p>option to turn on/off the plugin inside the <code>plugins</code> option:</p>
<div class="codehilite"><pre><span></span><span class="s2">&quot;plugins&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;segment&quot;</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>


<p>the plugin settings object that includes all user depending settings (here we
will need the user's write_key) on the <code>plugins_settings option</code>:</p>
<div class="codehilite"><pre><span></span><span class="s2">&quot;plugins_settings&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;segment&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;write_key&quot;</span><span class="o">:</span> <span class="s2">&quot;?????????&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>All Done! we are ready to test our plugin.</p>
<p>Don't be lazy, and send me a pull request with your plugins code and other
patches to
<a href="https://github.com/lejenome/syteup">https://github.com/lejenome/syteup</a> !</p>
                </div>
            </article>
        </section>
        <nav id="posts-nav">
            <ul>
                <li><a href="page/2.html" id="next-post">Older</a></li>
            </ul>
        </nav>
    </div>
    <!-- import js -->
    <script>
        var pres = document.querySelectorAll(".codehilite pre");
        var i;
        for (i = 0; i < pres.length; i++) {
            var html = pres[i].innerHTML;
            html = '<ol class="linenums"><li><span class="codeline">' +
                html.split("\n").slice(0, -1).join('</span></li><li><span class="codeline">') +
                '</span></li></ol>';
            pres[i].innerHTML = html;
        }
    </script>

    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-28759938-2', 'auto');
        ga('send', 'pageview');
    </script>
</body>

</html>